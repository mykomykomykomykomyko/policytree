import{o,c as a,a as e,r as c,f as L,k as N,K as T,E as _,G as b,y as p,z as x,F as k,b as C,D as j,L as A,A as S,v as B,x as g,t as u,C as D}from"./index-8e7381dd.js";import{a as K,r as $}from"./PlusIcon-b8c09bae.js";function q(v,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"})])}function P(v,i){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"})])}const U={class:"h-screen flex flex-col"},z={class:"flex-1 min-h-0 flex"},E={class:"w-64 bg-gray-50 border-r border-gray-200 flex-shrink-0"},F={class:"h-full flex flex-col"},G={class:"p-4 border-b border-gray-200"},H={class:"relative rounded-md shadow-sm"},I={class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},O={class:"flex-1 min-h-0 overflow-y-auto"},W={class:"px-2 py-4 space-y-1"},Q=["onClick"],Z={class:"flex items-center justify-between"},J={class:"truncate"},R={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800"},X={class:"mt-1 text-xs text-gray-500 truncate"},Y={class:"p-4 border-t border-gray-200"},ee={class:"flex-1 flex flex-col bg-white"},te={key:0,class:"flex-1 min-h-0"},se={class:"h-full flex flex-col"},re={class:"text-sm"},ne={class:"text-xs opacity-75"},oe={class:"flex-shrink-0 bg-white border-t border-gray-200 p-4"},ae={class:"flex space-x-3"},ie={class:"flex-1"},le=["onKeydown"],de={key:1,class:"flex-1 flex items-center justify-center bg-gray-50"},ce={class:"text-center"},xe={__name:"ChatView",setup(v){const i=c(""),d=c(""),n=c(null),m=c(null),l=c([{id:1,title:"Privacy Policy Discussion",lastMessage:"Can you explain section 3.2?",unread:2,messages:[{id:1,content:"Hello! I need help understanding the privacy policy.",sender:"user",time:"10:00 AM"},{id:2,content:"Of course! Which part would you like me to explain?",sender:"assistant",time:"10:01 AM"},{id:3,content:"Can you explain section 3.2 about data retention?",sender:"user",time:"10:02 AM"}]},{id:2,title:"Security Guidelines",lastMessage:"Updated password requirements",unread:0,messages:[{id:1,content:"We've updated the password requirements in section 2.1",sender:"assistant",time:"9:30 AM"}]}]),M=L(()=>{if(!i.value)return l.value;const r=i.value.toLowerCase();return l.value.filter(t=>t.title.toLowerCase().includes(r)||t.lastMessage.toLowerCase().includes(r))}),f=r=>{n.value=r,r.unread=0,h()},V=()=>{const r={id:l.value.length+1,title:"New Conversation",lastMessage:"",unread:0,messages:[]};l.value.unshift(r),f(r)},y=async()=>{if(!d.value.trim()||!n.value)return;const r={id:n.value.messages.length+1,content:d.value,sender:"user",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};n.value.messages.push(r),n.value.lastMessage=r.content,d.value="",await B(),h(),setTimeout(()=>{const t={id:n.value.messages.length+1,content:"I'll help you with that. Let me check the policy details...",sender:"assistant",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};n.value.messages.push(t),n.value.lastMessage=t.content,h()},1e3)},h=()=>{m.value&&(m.value.scrollTop=m.value.scrollHeight)};return N(()=>{l.value.length>0&&f(l.value[0])}),(r,t)=>(o(),a("div",U,[t[5]||(t[5]=T('<header class="bg-white shadow flex-shrink-0"><div class="px-4 py-6 sm:px-6 lg:px-8"><div class="flex items-center justify-between"><h1 class="text-3xl font-bold tracking-tight text-gray-900">Policy Chat</h1><div class="flex items-center space-x-4"><span class="inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-green-100 text-green-800"><span class="h-2 w-2 mr-2 bg-green-400 rounded-full"></span> Online </span></div></div></div></header>',1)),e("div",z,[e("div",E,[e("div",F,[e("div",G,[e("div",H,[_(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>i.value=s),class:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Search conversations..."},null,512),[[b,i.value]]),e("div",I,[p(x(K),{class:"h-5 w-5 text-gray-400"})])])]),e("div",O,[e("nav",W,[(o(!0),a(k,null,C(M.value,s=>{var w;return o(),a("button",{key:s.id,onClick:ue=>f(s),class:g(["w-full text-left px-3 py-2 rounded-md text-sm font-medium",[((w=n.value)==null?void 0:w.id)===s.id?"bg-gray-100 text-gray-900":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"]])},[e("div",Z,[e("span",J,u(s.title),1),s.unread?(o(),a("span",R,u(s.unread),1)):D("",!0)]),e("p",X,u(s.lastMessage),1)],10,Q)}),128))])]),e("div",Y,[e("button",{onClick:V,class:"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[p(x($),{class:"h-5 w-5 mr-2"}),t[2]||(t[2]=j(" New Chat "))])])])]),e("div",ee,[n.value?(o(),a("div",te,[e("div",se,[e("div",{class:"flex-1 overflow-y-auto p-4 space-y-4",ref_key:"messageContainer",ref:m},[(o(!0),a(k,null,C(n.value.messages,s=>(o(),a("div",{key:s.id,class:g(["flex",s.sender==="user"?"justify-end":"justify-start"])},[e("div",{class:g(["max-w-lg rounded-lg px-4 py-2 space-y-1",[s.sender==="user"?"bg-primary-600 text-white":"bg-gray-100 text-gray-900"]])},[e("p",re,u(s.content),1),e("p",ne,u(s.time),1)],2)],2))),128))],512),e("div",oe,[e("div",ae,[e("div",ie,[_(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),rows:"1",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"Type your message...",onKeydown:A(S(y,["prevent"]),["enter"])},null,40,le),[[b,d.value]])]),e("button",{onClick:y,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},[p(x(P),{class:"h-5 w-5"})])])])])])):(o(),a("div",de,[e("div",ce,[p(x(q),{class:"mx-auto h-12 w-12 text-gray-400"}),t[3]||(t[3]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No chat selected",-1)),t[4]||(t[4]=e("p",{class:"mt-1 text-sm text-gray-500"}," Select a chat from the sidebar or start a new conversation ",-1))])]))])])]))}};export{xe as default};
